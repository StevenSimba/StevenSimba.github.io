<!DOCTYPE html>
<html lang="en">
<head>
<title>Simba-Steven|Home</title>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="css/bootstrap.min.css" />
<link rel="stylesheet" href="css/bootstrap-responsive.min.css" />
<link rel="stylesheet" href="css/fullcalendar.css" />
<link rel="stylesheet" href="css/matrix-style.css" />
<link rel="stylesheet" href="css/matrix-media.css" />
<link rel="stylesheet" href="css/data-style.css" />

<link href="font-awesome/css/font-awesome.css" rel="stylesheet" />
<link rel="stylesheet" href="css/jquery.gritter.css" />
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,800' rel='stylesheet' type='text/css'>

<script src="js/d3.v3.js"> </script>
<script src="js/topojson.js"></script>

</head>
<body>

<div class="body-cover">

<!--Header-part-->
<div id="my-header">
  <div class='my-logo'> <a href="#">Simba-Steven</a> 
  </div>
  <div class='my-title'>  Kenya Forests Interactive </div>
  </div>
</div>
<!--close-top-Header-menu-->
<!--start-top-serch-->

<!--close-top-serch-->
<!--sidebar-menu-->
<div id="sidebar">
  <div class='my-divider'> </div>
  <ul>
    <li class="active"><a href="index.html"><i class="icon icon-home"></i> <span>Forests</span></a> </li>
    <div class='my-divider'> </div>
    <li> <a href="#"><i class="icon icon-medkit"></i> <span>Crime</span></a> </li>
    <div class='my-divider'> </div>
    <li> <a href="#"><i class="icon icon-suitcase"></i> <span>Education</span></a> </li>
    <div class='my-divider'> </div>    
      
    <li class="content"> <span>County Forest Levels</span>
      <div class="progress progress-mini progress-success active progress-striped">
        <div style="width: 7.78%;" class="kwanza bar"></div>
      </div>
      <span class="percent perc">7.78%</span>
      <div class="stat"><span class="kounty">Nairobi : </span><span class="cfore">6K/</span><span class="carea">71K</span> (ha)</div>
    </li>
    <div class='my-divider'> </div>
    <li class="content"> <span>National Forest Levels</span>
      <div class="progress progress-mini active progress-striped">
        <div style="width: 6.99%;" class="bar"></div>
      </div>
      <span class="percent">6.99%</span>
      <div class="stat">4.14M/58M (ha)</div>
    </li>
    <div class='my-divider'> </div>
  </ul>
</div>
<!--sidebar-menu-->

<!--main-container-part-->
<div id="content">
<!--breadcrumbs-->
  
<!--End-breadcrumbs-->

<!--Action boxes-->
  <div class="container-fluid">
    <div class="quick-actions_homepage">
      <ul class="quick-actions">
        <li class="bg_lb dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown"> 
        <i class="icon-arrow-up"></i>
         <span class="label label-success">5</span> 
           Top Counties </a> 
           <ul class='dropdown-menu my-drop'> 
            <li> <a href="#"> Isiolo</a> </li>
            <li> <a href="#"> Nyeri </a> </li>
            <li> <a href="#"> Keiyo </a> </li>
            <li> <a href="#"> Lamu </a> </li>
            <li> <a href="#"> Nandi </a> </li>
           </ul>
          </li>
          <li class="bg_lg dropdown"> 
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"> 
            <i class="icon-glass"></i>
            <span class="label label-warning">5</span> 
            Water Towers
          </a> 
          <ul class="dropdown-menu my-drop">
            <li> <a href="#">Mau Complex </a></li>
            <li> <a href="#"> Mount Kenya</a></li>
            <li> <a href="#"> Aberdare Ranges</a></li>
            <li> <a href="#"> Mount Elgon </a></li>
            <li> <a href="#"> Cherangany Hills</a></li>
          </ul>
        </li>
        <li class="bg_ly dropdown"> 
          <a href="#" class="dropdown-toggle" data-toggle="dropdown"> 
            <i class="icon-fire"></i>
            <span class="label label-important">5</span> 
            Low Forest Counties 
          </a> 
          <ul class="dropdown-menu my-drop">
            <li> <a href="#">Siaya </a></li>
            <li> <a href="#"> Kisumu</a></li>
            <li> <a href="#"> Migori</a></li>
            <li> <a href="#"> Busia </a></li>
            <li> <a href="#"> Marsabit</a></li>
          </ul>
        </li>

      </ul>
    </div>
<!--End-Action boxes-->   

<!--Chart-box-->   
  <div class="row-map">
      <h5 class='map-title'>Kenya's Forest Cover Across Counties</h5>

      <div class="row-fluid">
            <div class="span6">
              <div id="maps"></div>

            </div>
            <div class="span6">
              <ul class="site-stats">
                <li class="bg_lh"><i class="icon-globe"></i> <strong><span class="codi">71K (ha)</span></strong> <small><span class="coname">Nairobi</span> Total Area </small></li>
                <li class="bg_lh"><i class="icon-globe"></i> <strong>58M (ha)</strong> <small>Kenya's Land Area </small></li>
                <li class="bg_lh"><i class="icon-leaf"></i> <strong><span class="cforest">6K (ha)</span></strong> <small>County Forest Cover </small></li>
                <li class="bg_lh"><i class="icon-leaf"></i> <strong>4.14M (ha)</strong> <small>National Forest Cover</small></li>
                <li class="bg_lh"><i class="icon-asterisk"></i> <strong><span class="cpercent">7.78(%)</span></strong> <small> Forest Percentage </small></li>
                <li class="bg_lh"><i class="icon-asterisk"></i> <strong>6.99(%)</strong> <small> National Forest (%)</small></li>
                
              </ul>
            </div>
          </div>
        
    </div>
    <hr />
    <div class="row-map">
      <h5 class='map-title'>Distribution of Forests in the Counties (ha)</h5>

      <div class="row-fluid my-charts">
            <div class="span6">
              <div id="scatter" style="width:550px;height:300px;"></div>

            </div>
            <div class="span6">
              
            <div class="chart-wrapper" id="chart-line1" style="width:450px; height: 300px">
              
            </div>
            </div>
          </div>
        
    </div>
<!--End-Chart-box--> 
    <hr/>
    <h5 style="color:blue;"> Key Take Aways </h5>
    <div class="row-fluid widgets">
      <div class="span6 wigi">
       
        <div class="accordion" id="collapse-group">
          <div class="accordion-group widget-box">
            <div class="accordion-heading">
              <div class="widget-title"> <a data-parent="#collapse-group" href="#collapseGOne" data-toggle="collapse"> <span class="icon"><i class="icon-magnet"></i></span>
                <div class='tito'>Kenya Looses 5.6Million Trees Daily</div>
                </a> </div>
            </div>
            <div class="collapse in accordion-body" id="collapseGOne">
              <div class="widget-content"> A study done by the Green Africa Foundation in 2015 found that Kenya loses aproximately 5.6Million trees every day. Most rural households depend on firewood as fuel. Urban househoulds in addition to construction depends on charcoal as a source of fuel.</div>
            </div>
          </div>
          <div class="accordion-group widget-box">
            <div class="accordion-heading">
              <div class="widget-title"> <a data-parent="#collapse-group" href="#collapseGTwo" data-toggle="collapse"> <span class="icon"><i class="icon-magnet"></i></span>
                <div class='tito'>Deforestation cost Billions to the economy</div>
                </a> </div>
            </div>
            <div class="collapse in accordion-body" id="collapseGTwo">
              <div class="widget-content"> A UNEP study in 2010 discovered that forests contribute upto 3.6% of Kenya's GDP. Apart from logging, forests benefits extends to erosion mitigation, flooding control, water recharge and Biodiversity.</div>
            </div>
          </div>
          
         
        </div>
      </div>
      
      <div class='span6 wigi'>
        <div class="widget-box">
          <div class="widget-title">
            <ul class="nav nav-tabs">
              <li class="active"><a data-toggle="tab" href="#tab1"> Marsabit</a></li>
              <li><a data-toggle="tab" href="#tab2">Isiolo</a></li>
              <li><a data-toggle="tab" href="#tab3">Lakeside Counties</a></li>
            </ul>
          </div>
          <div class="widget-content tab-content">
            <div id="tab1" class="tab-pane active">
              <p>Marsabit and Wajir county to a lesser extent, have a big potential to help Kenya achieve its forest cover goal of 10%, they have vast and untapped land. From our scatter plot they are our univariate-outliers at the lower-right corner. </p>
              <img src="js/marsabit.jpg" alt="marsabit" style="height:200px; width:500px" /></div>
            <div id="tab2" class="tab-pane"> <img src="js/samburu.jpg" alt="marsabit" style="height:200px; width:500px;"/>
              <p>At face value Isiolo county looks like our model county, it has a fairly sizable land coupled with an equally big forest cover. The forestlands that are mainly occcupied by shrubs and herbs can be harnessed into high quality forests. Isiolo was the county at the top-center of our scatter plot, closest to becoming a bivariate outlier of having big both land and forest cover.</p>
            </div>
            <div id="tab3" class="tab-pane">
              <p>All the lakeside counties i.e Migori, Kisumu and Siaya have the lowest percentage of forest cover. Which is understable considering the overwhelming need in land for human settlement. The region still require forests for soil retention and in floods mitigation, real-estates needs notwithstanding.</p>
              <img src="js/kisumus.jpg" style="height:200px; width:500px;" alt="kisumu"/></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!--end-main-container-part-->

<!--Footer-part-->

<div class="row-fluid">
  <div id="footer" class="span12"> 2016 &copy;  Brought to you by <a href="www.twitter.com/steven_simba">Simba-Steven</a> </div>
</div>

<!--end-Footer-part-->

</div>

<script>
var map_width = 360;
var map_height = 400;

var projection = d3.geo.mercator()
                    .center([36.8000, 1.2667])
                    .scale([2000])
                    .translate([map_width/2, map_height/2]);

var path = d3.geo.path().projection(projection);

var svg= d3.select("#maps")
  .append("svg")
  .attr("width", map_width)
  .attr("height", map_height);


var coname = d3.select(".coname")
var codi = d3.select(".codi")
var cforest = d3.select(".cforest")
var cpercent = d3.select(".cpercent")
var header = d3.select(".header")
var kwanza = d3.select(".kwanza.bar")
var cfore = d3.select(".cfore")
var carea = d3.select(".carea")
var perc = d3.select(".perc")
var kounty = d3.select(".kounty")

var colors = ["red", "yellow", "purple", "green"]
var colorText = ["Under 4.6%", "Between (4.6-8.4)%","Between (8.4-16.6)%", "Over 16.6%"]


  


var g = svg.append("g")

  d3.csv("js/countyForests.csv", function(error, data){ 
    d3.json("js/kenCounty.json", function(error, json) {


      for( var i=0; i< data.length; i++) {
        var dataCounty = data[i].COUNTY;
        var forest = data[i].FOREST_AREA;
        var tarea = data[i].TOTAL_AREA_HA;
        var percent = data[i].PERCENTAGE_FOREST_COVER;

        var feats = topojson.feature(json, json.objects.kenya).features

        for (var j= 0; j < feats.length; j++) {
          var jsonCounty = feats[j].properties.COUNTY;

          if (dataCounty == jsonCounty){  
            feats[j].properties.percent = percent;
            feats[j].properties.forest = forest;
            feats[j].properties.tarea = tarea;

            break;
          }

        }
      }

      
      g.append("g")
      .attr("class", "counties-group")
      .selectAll("path")
      .data(feats)
      .enter()
      .append("path")
      .attr("d", path)
      .attr("stroke", "white")
      .attr("class", "counties")
      .attr("fill", function(d) {
          var results;
        if (d.properties.percent < 4.6){
          results = "red";
        }
        else if(d.properties.percent < 8.4) {
          results= "yellow"
        }
        else if (d.properties.percent < 16.6){
          results = "purple"
        }
          else { results = "green";}
          return results 
      })


      g.append("g")
      .attr("class", "county-names")
      .selectAll("text")
      .data(feats)
      .enter()
      .append("svg:text")
      .text(function(d) {
        return d.properties.COUNTY
      })
      .attr("x", function(d) {
        return path.centroid(d)[0];
      })
      .attr("y", function(d) {
        return path.centroid(d)[1];
      })
      .attr("text-anchor", "middle")
      .attr("fill", "black")
      .attr("font-size", "7")




      .on("mouseover", function(d) {
        codi.transition()
        .duration(200)
        .style("opacity", .9);
        coname.text(d.properties.COUNTY)
        codi.text(Math.round(d.properties.tarea / 1000)+"K (ha)")
        cforest.text(Math.round(d.properties.forest / 1000)+"K (ha)")
        cpercent.text(d.properties.percent+"(%)")

        kwanza.style("width", d.properties.percent+"%")
        cfore.text(Math.round(d.properties.forest / 1000)+"K/")
        carea.text(Math.round(d.properties.tarea / 1000)+"K")
        perc.text(d.properties.percent+"(%)")
        kounty.text(d.properties.COUNTY+" : ")


      })

      /*

      .on("mouseout", function(d) {
        codi.transition()
        .duration(200)
        .style("opacity", 0);
      })

*/

  var legend = d3.select("#maps").append("svg")
    .attr("class", "legend")
    .attr("width", 240)
    .attr("height", 300)
    .selectAll("g")
    .data(colors)
    .enter()
    .append("g")
    .attr("transform", function(d, i) {
      return "translate(0, "+i+8+")"; 
    })

    legend.append("rect")
      .attr("width", 18)
      .attr("height", 18)
      .style("fill", function(d){
        return d; 
      })

    legend.append("text")
      .data(colorText)
      .attr("x", 24)
      .attr("y", 6)
      .attr("dy", ".35em")
      .attr('font-size', 9)
      .text(function(d) {return d; }); 



    })
    }); 
</script>
<script src='js/jquery-3.1.1.min.js'> </script>
<script src='js/bootstrap.min.js'> </script>
<script src='js/data.js'> </script>

</body>
</html>
